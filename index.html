<!DOCTYPE html>
<html>
<head>
    <title>Fyers Login</title>
    <!-- Updated FYERS Web SDK URL -->
    <script src="https://cdn.fyers.in/sdk/web/fyers-ssa-v3.min.js"></script>
</head>
<body>
    <h2>Login to FYERS</h2>
    <button onclick="fyersLogin()">Login with Fyers</button>

    <script>
        function fyersLogin() {
            // Configuration parameters
            const config = {
                client_id: "O0P41O9GM2-100", // Replace with your actual client ID
                redirect_uri: "https://ajay123400.github.io/fyers-login/", // Registered redirect URL
                response_type: "code",
                state: "random_state_123", // Recommended to use a random string
                scope: "profile trade", // Add required scopes
                // SDK will automatically generate code_challenge if not provided
            };

            // Initialize FYERS SDK
            Fyers.initialize(config);
            
            // Generate and redirect to authentication URL
            const authUrl = Fyers.getAuthUrl();
            if (authUrl) {
                window.location.href = authUrl;
            } else {
                console.error('Failed to generate authentication URL');
            }
        }
    </script>
</body>
</html>
